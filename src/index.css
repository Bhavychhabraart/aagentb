@tailwind base;
@tailwind components;
@tailwind utilities;

/* Steve Jobs Ã— James Bond Design System
   Premium dark theme with animated gradient borders, glassmorphism, cinematic elegance
   Obsessive attention to detail meets sophisticated aesthetics
*/

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

@layer base {
  :root {
    /* Light mode - rarely used, dark is primary */
    --background: 0 0% 100%;
    --foreground: 220 20% 10%;

    --card: 0 0% 98%;
    --card-foreground: 220 20% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 10%;

    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 14% 96%;
    --secondary-foreground: 220 20% 10%;

    --muted: 220 14% 96%;
    --muted-foreground: 220 10% 46%;

    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 217 91% 60%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 220 10% 30%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 14% 96%;
    --sidebar-accent-foreground: 220 20% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217 91% 60%;

    /* Brand gradient */
    --gradient-brand: linear-gradient(135deg, hsl(217 91% 60%) 0%, hsl(220 20% 10%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(220 20% 8%) 0%, hsl(220 20% 4%) 100%);
    
    /* Status colors */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
  }

  .dark {
    /* Primary dark theme - deep black base */
    --background: 220 25% 3%;
    --foreground: 220 14% 96%;

    --card: 220 25% 5%;
    --card-foreground: 220 14% 96%;

    --popover: 220 25% 6%;
    --popover-foreground: 220 14% 96%;

    /* Premium blue accent - slightly more saturated */
    --primary: 217 100% 58%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 25% 8%;
    --secondary-foreground: 220 14% 96%;

    --muted: 220 25% 10%;
    --muted-foreground: 220 14% 55%;

    --accent: 217 100% 58%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 25% 12%;
    --input: 220 25% 12%;
    --ring: 217 100% 58%;

    --sidebar-background: 220 25% 4%;
    --sidebar-foreground: 220 14% 80%;
    --sidebar-primary: 217 100% 58%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 25% 8%;
    --sidebar-accent-foreground: 220 14% 96%;
    --sidebar-border: 220 25% 10%;
    --sidebar-ring: 217 100% 58%;

    /* Premium gradient - subtle blue shimmer */
    --gradient-brand: linear-gradient(135deg, hsl(217 100% 50% / 0.2) 0%, transparent 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(220 25% 5%) 0%, hsl(220 25% 3%) 100%);
    
    /* Glow effects - cinematic blue */
    --glow-primary: 0 0 60px hsl(217 100% 58% / 0.35);
    --glow-subtle: 0 0 30px hsl(217 100% 58% / 0.15);
    --glow-intense: 0 0 80px hsl(217 100% 58% / 0.5);

    /* Glass colors */
    --glass-bg: 220 25% 8% / 0.7;
    --glass-border: 220 25% 20% / 0.3;
    --glass-highlight: 0 0% 100% / 0.05;

    /* Success color for dark mode */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply dark;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', system-ui, sans-serif;
  }

  /* Premium scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.5);
  }
}

@layer components {
  /* ========== GLASSMORPHISM SYSTEM ========== */
  
  .glass {
    background: hsl(var(--glass-bg));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid hsl(var(--glass-border));
  }

  .glass-premium {
    background: hsl(var(--glass-bg));
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border: 1px solid hsl(var(--glass-border));
    box-shadow: 
      inset 0 1px 1px hsl(var(--glass-highlight)),
      0 8px 32px hsl(220 25% 0% / 0.4);
  }

  .glass-input {
    background: hsl(220 25% 6% / 0.8);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid hsl(220 25% 15% / 0.5);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-input:focus,
  .glass-input:focus-within {
    border-color: hsl(var(--primary) / 0.6);
    box-shadow: 
      0 0 0 3px hsl(var(--primary) / 0.15),
      0 0 30px hsl(var(--primary) / 0.2);
  }

  /* ========== ANIMATED GRADIENT BORDER ========== */
  
  @property --gradient-angle {
    syntax: "<angle>";
    initial-value: 0deg;
    inherits: false;
  }

  .gradient-border {
    position: relative;
    background: hsl(var(--background));
    border-radius: 1rem;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: calc(1rem + 2px);
    background: conic-gradient(
      from var(--gradient-angle),
      hsl(217 100% 60%),
      hsl(280 80% 55%),
      hsl(340 80% 55%),
      hsl(217 100% 60%)
    );
    z-index: -1;
    animation: gradient-rotate 4s linear infinite;
    opacity: 0.8;
  }

  .gradient-border::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 1rem;
    background: hsl(var(--background));
    z-index: -1;
  }

  .gradient-border-subtle::before {
    opacity: 0.4;
  }

  .gradient-border-glow::before {
    filter: blur(8px);
    opacity: 0.6;
  }

  @keyframes gradient-rotate {
    0% { --gradient-angle: 0deg; }
    100% { --gradient-angle: 360deg; }
  }

  /* Fallback for browsers that don't support @property */
  @supports not (background: conic-gradient(from 0deg, red, blue)) {
    .gradient-border::before {
      background: linear-gradient(135deg, 
        hsl(217 100% 60%), 
        hsl(280 80% 55%), 
        hsl(340 80% 55%)
      );
    }
  }

  /* ========== PREMIUM BUTTONS ========== */

  .btn-glass {
    @apply glass-premium rounded-xl px-4 py-2;
    @apply text-foreground font-medium;
    @apply transition-all duration-300;
    @apply hover:border-primary/40 hover:shadow-[0_0_20px_hsl(217_100%_58%/0.2)];
    @apply active:scale-[0.98];
  }

  .btn-glow {
    @apply relative overflow-hidden;
    @apply bg-primary text-primary-foreground;
    @apply rounded-xl px-4 py-2 font-medium;
    @apply transition-all duration-300;
    @apply hover:shadow-[0_0_30px_hsl(217_100%_58%/0.5)];
    @apply active:scale-[0.98];
  }

  .btn-glow::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      transparent 0%,
      hsl(0 0% 100% / 0.1) 50%,
      transparent 100%
    );
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-glow:hover::before {
    opacity: 1;
  }

  /* ========== MINIMAP STYLES ========== */

  .minimap-container {
    @apply glass-premium rounded-2xl overflow-hidden;
    box-shadow: 
      0 0 0 1px hsl(var(--border) / 0.3),
      0 20px 50px hsl(220 25% 0% / 0.6),
      0 0 40px hsl(217 100% 58% / 0.1);
  }

  .minimap-viewport {
    @apply absolute border-2 border-primary/60 rounded-sm pointer-events-none;
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }

  /* ========== CAMERA STYLES ========== */

  .camera-icon {
    @apply relative flex items-center justify-center rounded-full;
    @apply transition-all duration-300 cursor-move;
    background: linear-gradient(135deg, hsl(185 80% 50%), hsl(217 100% 60%));
    box-shadow: 
      0 0 20px hsl(185 80% 50% / 0.4),
      inset 0 1px 1px hsl(0 0% 100% / 0.2);
  }

  .camera-icon-selected {
    @apply scale-110;
    box-shadow: 
      0 0 40px hsl(185 80% 50% / 0.6),
      0 0 60px hsl(217 100% 60% / 0.3),
      inset 0 1px 1px hsl(0 0% 100% / 0.3);
  }

  .camera-fov-cone {
    filter: drop-shadow(0 0 10px hsl(185 80% 50% / 0.5));
  }

  /* ========== WORKSPACE HEADER ========== */

  .workspace-header {
    @apply glass-premium border-b border-border/30;
    box-shadow: 0 4px 30px hsl(220 25% 0% / 0.3);
  }

  /* ========== BRAND GRADIENTS ========== */

  .bg-gradient-brand {
    background: var(--gradient-brand);
  }

  .bg-gradient-subtle {
    background: var(--gradient-subtle);
  }

  .bg-gradient-premium {
    background: linear-gradient(
      135deg,
      hsl(220 25% 4%) 0%,
      hsl(217 40% 8%) 50%,
      hsl(220 25% 4%) 100%
    );
  }

  /* ========== GLOW EFFECTS ========== */

  .glow-primary {
    box-shadow: var(--glow-primary);
  }

  .glow-subtle {
    box-shadow: var(--glow-subtle);
  }

  .glow-intense {
    box-shadow: var(--glow-intense);
  }

  /* ========== TYPOGRAPHY ========== */

  .font-mono {
    font-family: 'JetBrains Mono', monospace;
  }

  .text-gradient {
    background: linear-gradient(135deg, hsl(217 100% 70%), hsl(280 80% 70%));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ========== STATUS INDICATORS ========== */

  .status-pending {
    @apply text-muted-foreground;
  }

  .status-analyzing {
    @apply text-warning;
  }

  .status-ready {
    @apply text-success;
  }

  .status-failed {
    @apply text-destructive;
  }

  /* ========== SKELETON LOADING ========== */

  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }

  /* ========== CHAT MESSAGE STYLES ========== */

  .chat-message-user {
    @apply bg-primary/10 border border-primary/20 rounded-2xl;
  }

  .chat-message-assistant {
    @apply glass border border-border/50 rounded-2xl;
  }

  /* ========== KEYBOARD HINT ========== */

  .kbd {
    @apply inline-flex items-center justify-center;
    @apply px-2 py-1 rounded-lg;
    @apply text-xs font-mono font-medium;
    @apply bg-muted/50 border border-border;
    @apply text-muted-foreground;
    box-shadow: 
      0 1px 2px hsl(220 25% 0% / 0.3),
      inset 0 1px 0 hsl(0 0% 100% / 0.05);
  }

  /* ========== FULLSCREEN MODAL ========== */

  .modal-cinematic {
    animation: modal-enter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes modal-enter {
    from {
      opacity: 0;
      transform: scale(0.95) translateY(10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  /* ========== PRODUCT CARD ========== */

  .product-card-glass {
    @apply glass-premium rounded-2xl overflow-hidden;
    @apply transition-all duration-300;
    @apply hover:border-primary/30 hover:shadow-[0_0_30px_hsl(217_100%_58%/0.15)];
    @apply hover:scale-[1.02];
  }
}

@layer utilities {
  /* ========== ANIMATION UTILITIES ========== */

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-glow-pulse {
    animation: glowPulse 2s ease-in-out infinite;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }

  @keyframes glowPulse {
    0%, 100% { 
      box-shadow: 0 0 20px hsl(217 100% 58% / 0.3);
    }
    50% { 
      box-shadow: 0 0 40px hsl(217 100% 58% / 0.5);
    }
  }

  /* ========== HOVER UTILITIES ========== */

  .hover-glow {
    @apply transition-all duration-300;
  }

  .hover-glow:hover {
    box-shadow: 0 0 30px hsl(217 100% 58% / 0.3);
  }

  .hover-scale {
    @apply transition-transform duration-200;
  }

  .hover-scale:hover {
    transform: scale(1.05);
  }

  .hover-lift {
    @apply transition-all duration-300;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 40px hsl(220 25% 0% / 0.4);
  }
}
